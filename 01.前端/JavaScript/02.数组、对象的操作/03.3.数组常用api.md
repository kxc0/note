# 数组常用api

> 关于 `find`、`findIndex` 以及对数组项的修改。

```js
var a = {id: 1, name: '张三', age: 15}
var b = {id: 2, name: '李四', age: 19}
var c = {id: 3, name: '王五', age: 22}
var d = {id: 4, name: '赵六', age: 36}
var e = {id: 5, name: '张三', age: 15}
var data = [a, b, c, d, e]
let aa = data.find(array => array.id === 1)
console.log(aa)			// {id: 1, name: '张三', age: 15}
aa.name = '666'
console.log(data[0])	// {id: 1, name: '666', age: 15}
console.log(a)			// {id: 1, name: '666', age: 15}
```

这段代码定义了五个对象。然后定义了一个名为 `data` 的数组，其中包含这五个对象。接着使用 `Array.prototype.find()` 方法查找数组中第一个 `id` 属性为 1 的对象，并将其赋值给变量 `aa`。接着将 `aa` 对象的 `name` 属性修改为 666，并打印数组中的第一个对象。

> 需要注意的是，`Array.prototype.find()` 方法返回的是第一个满足条件的对象，而不是整个数组。因此，如果数组中有多个对象满足条件，只会返回第一个满足条件的对象。
>
> 如果没有找到满足条件的对象，则返回 `undefined`。
>
> 另外，由于数组是**引用类型**，修改数组中的对象也会影响到原始对象。



> 这段代码的问题在于，`find()` 方法返回的是**匹配到的第一个元素的引用**，而不是元素本身。因此，当你修改 `aa.name` 时，实际上是修改了 `data` 数组中的第一个元素的 `name` 属性。
>
> 如果你想要修改 `data` 数组中的第一个元素的 `name` 属性，可以使用以下代码：
>
> ```js
> let index = data.findIndex(item => item.id === 1);
> if (index!== -1) {
>   data[index].name = '666';
> }
> console.log(data[0]);
> ```
>
> 这段代码中，我们使用 `findIndex()` 方法查找 `id` 等于 `1` 的元素的索引，然后直接修改该元素的 `name` 属性。最后，我们输出 `data` 数组中的第一个元素，以验证修改是否成功。

## `findIndex()` `find()`它们都是遍历整个数组，找到第一个元素后结束遍历，为什么`findIndex()`的效率更高

`findIndex()` 和 `find()` 都可以用来查找数组中的元素，但是它们的实现方式不同。`find()` 方法返回的是匹配到的第一个元素的引用，而 `findIndex()` 方法返回的是匹配到的第一个元素的索引。因此，如果你只需要知道元素是否存在，那么使用 `find()` 方法更加方便。

如果你需要找到第一个匹配到的元素的索引，那么使用 `findIndex()` 方法更加高效。因为 `findIndex()` 方法可以中断遍历，从而提高遍历效率。

另外，如果你需要对数组进行遍历和修改，那么使用 `forEach()` 方法更加方便。因为 `forEach()` 方法可以遍历数组中的每个元素，并对每个元素进行操作。

综上所述，如果你只需要知道元素是否存在，那么使用 `find()` 方法更加方便；如果你需要找到第一个匹配到的元素的索引，那么使用 `findIndex()` 方法更加高效；如果你需要对数组进行遍历和修改，那么使用 `forEach()` 方法更加方便。

## 要获取数组中符合某条件的元素的

如果你需要获取数组中符合某条件的元素，可以使用 `filter()` 方法。`filter()` 方法会遍历数组中的每个元素，并返回一个新的数组，其中包含所有满足条件的元素。

以下是使用 `filter()` 方法获取数组中 `id` 等于 `1` 的元素的示例代码：

```js
let result = data.filter(item => item.id === 1);
console.log(result);
```

使用 `filter()` 方法的好处是，它可以避免使用 `find()` 方法遍历整个数组，从而提高代码的效率。如果数组中存在多个 `id` 等于 `1` 的元素，那么 `filter()` 方法会返回一个包含所有满足条件的元素的新数组。

另外，使用 `filter()` 方法获取符合条件的元素时，可以使用更简洁的语法，例如：

```js
let result = data.filter(item => item.id === 1);
```

这段代码中，我们使用箭头函数作为 `filter()` 方法的回调函数，直接在回调函数中判断元素是否满足条件。如果满足条件，则将该元素添加到一个新的数组中，最终返回该数组。

如果已经确定只有一项符合条件，可以使用 `find()` 方法来获取该元素。`find()` 方法会遍历整个数组并返回第一个满足条件的元素。如果没有找到满足条件的元素，则返回 `undefined`。

以下是使用 `find()` 方法获取第一个 `id` 等于 `1` 的元素的示例代码：

```js
let item = data.find(item => item.id === 1);
console.log(item);
```

使用 `find()` 方法的好处是，它可以避免使用 `forEach()` 方法遍历整个数组，从而提高代码的效率。如果数组中存在 `id` 等于 `1` 的元素，那么 `find()` 方法会立即返回该元素，而不会继续遍历数组。

另外，使用 `find()` 方法获取元素时，可以使用更简洁的语法，例如：

```js
let item = data.find(item => item.id === 1);
```

这段代码中，我们使用箭头函数作为 `find()` 方法的回调函数，直接在回调函数中判断元素是否满足条件。如果找到满足条件的元素，则返回该元素，否则返回 `undefined`。