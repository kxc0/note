# js遍历数组时删除元素最终结果不对
>  js遍历数组时删除元素时，需要注意删除后，数组会动态的变化，要调整索引，否则得到的结果就是不对的。

## 问题描述
`js`使用`splice`删除元素时，会将后面的元素来补填被删掉元素的索引。这样会导致遍历数组删除数组的多个元素时出现隔个索引删除现象。
```js
var arr = [1,3,4,6,9,17,23,12];
console.log("删除前数组：\n"+arr);
for(var i=0;i<arr.length;i++){   //删除大于10的数
    if(arr[i]>10){
        arr.splice(i,1);
    }
}
console.log("删除后数组：\n"+arr);
```
按照逻辑，应该删除的元素是`17、23、12`，而只删除了`17、12`。

## 问题分析
便于描述给每个元素加上一个索引在括号内为索引：
```
1 (0)、3 (1)、4 (2)、6(3)、9 (4)、17 (5)、23 (6)、12 (7)
```
当删除`17`的时候，数组的总长度变为`7`，此时剩下元素和索引情况：
```
1 (0)、3(1)、4 (2)、6 (3)、9(4)、23(5)、12(6)
```
而`i`开始执行`6`了，此时会删除索引为`6`的元素，即将`12`删除了，因此删除了`17，12`。

## 问题解决
从上面的描述可以看出当删除第一个元素时不会出现问题，当删除处第一个之外的元素时会出现问题，索引总是`i - 1`；因此可以使用以下方式解决：
```js
for(var i=0;i<arr.length;i++){
    //删除大于10的数
    if(arr[i]>10){
        arr.splice(i--,1);
    }
}
```